## Index

- [엔티티에는 가급적 Setter 를 사용하지 말자](#엔티티에는-가급적-setter-를-사용하지-말자)
- [모든 연관 관계는 지연 로딩으로 설정](#모든-연관-관계는-지연-로딩으로-설정)
- [컬렉션은 필드에서 초기화](#컬렉션은-필드에서-초기화)
- [lombok - ArgsConstructor](#lombok---argsconstructor)
---

#### 엔티티에는 가급적 Setter 를 사용하지 말자
Setter 가 모두 열려있으면 변경 포인트가 많아 유지보수가 어렵다.

#### 모든 연관 관계는 지연 로딩으로 설정
- 즉시로딩 ( EAGER ) 은 예측이 어렵고, 어떤 SQL 이 실행될지 추적이 어렵다. 특히 JPQL 을 실행 할 때에 N+1 문제가 자주 발생한다.
- 실무에서 모든 연관관계는 지연로딩 ( LAZY ) 으로 설정해야 한다.
- 연관된 엔티티를 함께 DB 에서 조회해야 하면, fatch join 또는 엔티티 그패프 기능을 사용한다.
- @XToOne( OneToOne, ManyToOne ) 관계는 기본이 즉시로딩으로 설정해야 한다.

#### 컬렉션은 필드에서 초기화
- 컬렉션은 필드에서 바로 초기화 하는 것이 안전하다.
- null 문제에서 안전하다.
- 하이버네이트는 엔티티를 영속화 할 때에, 컬랙션에 감싸서 하이버네이트가 제공하는 내장 컬렉션으로 변경한다. 만약 임의의 메서드에서 잘못 생성하면 하이버네이트 내부 메커니즘에 문제가 발생할 수 있다. 따라서 필드레벨에서 생성하는 것이 가장 안전하고, 코드도 간결하다.

#### lombok - ArgsConstructor
- AllArgsConstructor
    - 필드의 모든 변수들을 가지고 생성자를 만들어준다.
- RequiredArgsConstructor
    - final 인 변수만 가지고 생성자를 만들어준다.